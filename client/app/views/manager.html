<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Project name</a>
    </div>
    <div class="navbar-collapse collapse">
      <form name="loginForm" class="navbar-form navbar-right" role="form" ng-hide="isLoggedIn">
        <div class="form-group">
          <label class="sr-only" for="username_entry">Username</label>
          <input ng-model="username" type="text" placeholder="Username" class="form-control" id="username_entry" required>
        </div>
        <div class="form-group">
          <label class="sr-only" for="password_entry">Password</label>
          <input type="password" ng-model="password" placeholder="Password" class="form-control" id="password_entry" required>
        </div>
        <button type="submit" ng-click="signIn()" class="btn btn-success">Sign in</button>
      </form>
 	  <div class="nag navbar-nav navbar-left" ng-show="isLoggedIn">
 	  	<ul class="nav navbar-nav">
          <li class="active"><a href="#overview" role="tab" data-toggle="tab">Overview</a></li>
          <li><a href="#checklists" ng-click="refreshMap()" role="tab" data-toggle="tab">Checklists</a></li>
          <li><a href="#surveyors" role="tab" data-toggle="tab">Surveyors</a></li> 	  	
 	  	</ul>
 	  </div>
      <div class="nav navbar-nav navbar-right" ng-show="isLoggedIn">
        <ul class="nav navbar-nav">
          <li><p class="navbar-text">Welcome, {{StateService.getUsername()}}</p></li>             
          <li class="padding-fix dropdown">
            <a href="" class="dropdown-toggle" data-toggle="dropdown"><span class="h4 glyphicon glyphicon-cog"></span></a>
            <ul class="dropdown-menu">          
              <li><a>Edit Profile</a></li>
              <li><a ng-click="signOut()" href="">Sign Out</a></li>            
            </ul>
          </li>
        </ul>
      </div>      
    </div>
    <!--/.navbar-collapse -->
  </div>
</div>

<div class="tab-content">
  <div class="tab-pane active" id="overview">
    Overview
  </div>
  <div class="tab-pane" id="checklists">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 main" style="padding-bottom:0px">
          <div class="page-header" style="padding-bottom:55px; margin-bottom: 0px;">
            <h1 class="pull-left" style="margin: 0px;">Checklists</h1>
            <div class="pull-right">
              <button type="button" class="btn btn-success btn-lg" style="margin-top: -2px">New Checklist</button>
            </div>
          </div>
          <p style="margin-top: 20px" class="well well-sm">Please select a checklist from the list below to view weather and geographical information for the each checklist's project. To modify or delete an existing checklist, please click one of the action buttons corresponding to the checklist in the table below. Finally, if you want to create a new checklist, please click the New Checklist button.</p>
        </div>
      </div>
      <div class="row">
        <div class="container" style="margin: 0px; width:100%;">
          <div class="col-sm-6">
            <div class="weather-data"></div>
            <h3 class="sub-header" style="margin: 0px;">Checklist Map Data</h3>          
            <div class="manager-map" lscs-map></div>
          </div>
          <div class="col-sm-6" style="padding-left: 30px">  
            <h3 class="sub-header" style="margin: 0px;">Created Checklists</h3>
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>#</th>
                    <th>Header</th>
                    <th>Header</th>
                    <th>Header</th>
                    <th>Header</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1,001</td>
                    <td>Lorem</td>
                    <td>ipsum</td>
                    <td>dolor</td>
                    <td>sit</td>
                  </tr>
                  <tr>
                    <td>1,002</td>
                    <td>amet</td>
                    <td>consectetur</td>
                    <td>adipiscing</td>
                    <td>elit</td>
                  </tr>
                  <tr>
                    <td>1,003</td>
                    <td>Integer</td>
                    <td>nec</td>
                    <td>odio</td>
                    <td>Praesent</td>
                  </tr>
                  <tr>
                    <td>1,003</td>
                    <td>libero</td>
                    <td>Sed</td>
                    <td>cursus</td>
                    <td>ante</td>
                  </tr>
                  <tr>
                    <td>1,004</td>
                    <td>dapibus</td>
                    <td>diam</td>
                    <td>Sed</td>
                    <td>nisi</td>
                  </tr>
                  <tr>
                    <td>1,005</td>
                    <td>Nulla</td>
                    <td>quis</td>
                    <td>sem</td>
                    <td>at</td>
                  </tr>
                  <tr>
                    <td>1,006</td>
                    <td>nibh</td>
                    <td>elementum</td>
                    <td>imperdiet</td>
                    <td>Duis</td>
                  </tr>
                  <tr>
                    <td>1,007</td>
                    <td>sagittis</td>
                    <td>ipsum</td>
                    <td>Praesent</td>
                    <td>mauris</td>
                  </tr>
                  <tr>
                    <td>1,008</td>
                    <td>Fusce</td>
                    <td>nec</td>
                    <td>tellus</td>
                    <td>sed</td>
                  </tr>
                  <tr>
                    <td>1,009</td>
                    <td>augue</td>
                    <td>semper</td>
                    <td>porta</td>
                    <td>Mauris</td>
                  </tr>
                  <tr>
                    <td>1,010</td>
                    <td>massa</td>
                    <td>Vestibulum</td>
                    <td>lacinia</td>
                    <td>arcu</td>
                  </tr>
                  <tr>
                    <td>1,011</td>
                    <td>eget</td>
                    <td>nulla</td>
                    <td>Class</td>
                    <td>aptent</td>
                  </tr>
                  <tr>
                    <td>1,012</td>
                    <td>taciti</td>
                    <td>sociosqu</td>
                    <td>ad</td>
                    <td>litora</td>
                  </tr>
                  <tr>
                    <td>1,013</td>
                    <td>torquent</td>
                    <td>per</td>
                    <td>conubia</td>
                    <td>nostra</td>
                  </tr>
                  <tr>
                    <td>1,014</td>
                    <td>per</td>
                    <td>inceptos</td>
                    <td>himenaeos</td>
                    <td>Curabitur</td>
                  </tr>
                  <tr>
                    <td>1,015</td>
                    <td>sodales</td>
                    <td>ligula</td>
                    <td>in</td>
                    <td>libero</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>    
  </div>
  <div class="tab-pane" id="surveyors">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 main" style="padding-bottom:0px">
          <div class="page-header" style="padding-bottom:55px; margin-bottom: 0px;">
            <h1 class="pull-left" style="margin: 0px;">Surveyors</h1>
            <div class="pull-right">
              <button type="button" data-toggle="modal" data-target="#newSurveyorModal" href="" class="btn btn-success btn-lg" style="margin-top: -2px">New Surveyor</button>
            </div>
          </div>
          <p style="margin-top: 20px" class="well well-sm">Below is a list of surveyors currently registered in the LSCS system. To modify an existing surveyor account, please click one of the action buttons cooresponding to the account you wish to modify in the table below. To create a new surveyor, please click the New Surveyor button.</p>
        </div>
      </div>
      <div class="row">
        <div class="container" style="margin: 0px; width:100%;">
          <div class="col-sm-12">  
            <h3 class="sub-header" style="margin: 0px;">Registered Surveyors</h3>
            <div class="table-responsive">
              <table class="table table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Username</th>
                    <th>Email</th>
                    <th>Actions</th>                  
                  </tr>
                </thead>
                <tbody>
                  <tr data-ng-repeat="surveyor in StateService.getSurveyorList()">
                    <th>{{surveyor.first_name == '' ? 'N' : surveyor.first_name}}{{surveyor.last_name == '' ? '/A' : ' ' + surveyor.first_name}}</th>
                    <th>{{surveyor.username}}</th>
                    <th>{{surveyor.email}}</th>
                    <th><button type="button" class="btn btn-primary btn-sm" style="margin-top: -2px">Edit User</button></th>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>    
  </div>    
</div>

<div class="modal fade" id="newSurveyorModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="overflow:hidden;">
  <div class="modal-dialog" style="width: 608px;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Add New Surveyor<br /><small>Please complete the following fields to create a new user.</small></h4>
      </div>
      <div class="modal-body">
        <form name="newSurveyorForm" class="well form-horizontal" role="form" ng-submit="createNewSurveyor()" novalidate>
          <!-- Username -->
          <div class="form-group" ng-class="{ 'has-error' : (newSurveyorForm.username.$invalid || usernamePostError) && hasSubmitted }">
              <label class="col-sm-3 control-label">Username</label> 
              <div class="col-sm-9">
                <input type="text" name="username" class="form-control" ng-model="newUsername" required>
                <p ng-show="usernamePostError" class="help-block">{{usernameErrorMessage}}</p>                  
                <p ng-show="newSurveyorForm.username.$invalid && hasSubmitted" class="help-block">Please enter a username</p>
              </div>
          </div>        
          <!-- First Name -->
          <div class="form-group" ng-class="{ 'has-error' : newSurveyorForm.firstName.$invalid && hasSubmitted }">
              <label class="col-sm-3 control-label">First Name</label> 
              <div class="col-sm-9">
                <input type="text" name="firstName" class="form-control" ng-model="newFirstName" required>
                <p ng-show="newSurveyorForm.firstName.$invalid && hasSubmitted" class="help-block">Please enter the new surveyor's first name.</p>
              </div>
          </div>
          <!-- Last Name -->
          <div class="form-group" ng-class="{ 'has-error' : newSurveyorForm.lastName.$invalid && hasSubmitted }">
              <label class="col-sm-3 control-label">Last Name</label> 
              <div class="col-sm-9">
                <input type="text" name="lastName" class="form-control" ng-model="newLastName" required>
                <p ng-show="newSurveyorForm.lastName.$invalid && hasSubmitted" class="help-block">Please enter the new surveyor's last name.</p>
              </div>
          </div>          
          <!-- Email -->
          <div class="form-group" ng-class="{ 'has-error' : (newSurveyorForm.email.$invalid || emailPostError) && hasSubmitted }">
            <label class="col-sm-3 control-label">Email</label> 
            <div class="col-sm-9">
              <input type="email" name="email" class="form-control" ng-model="newEmail" required>
              <p ng-show="emailPostError" class="help-block">{{emailErrorMessage}}</p>
              <p ng-show="newSurveyorForm.email.$invalid && hasSubmitted" class="help-block">Please enter a valid email.</p>
            </div>
          </div>
          <!-- New Password -->
          <div class="form-group" ng-class="{ 'has-error' : newSurveyorForm.newPassword.$invalid && hasSubmitted }">
            <label class="col-sm-3 control-label">Password</label>
            <div class="col-sm-9">                            
              <input type="password" name="newPassword" class="form-control" ng-model="newPassword" required>
              <p ng-show="newSurveyorForm.newPassword.$error.required && hasSubmitted" class="help-block">Please enter a new password.</p>
            </div> 
          </div>  
          <!-- Confirm Password -->
          <div class="form-group" ng-class="{ 'has-error' : (newSurveyorForm.verifyPassword.$invalid || newSurveyorForm.verifyPassword.$error.passwordMatch) && hasSubmitted }">
            <label class="col-sm-3 control-label">Verify Password</label>
            <div class="col-sm-9">
              <input type="password" name="verifyPassword" class="form-control" ng-model="verifyPassword" required>
              <p ng-show="newSurveyorForm.verifyPassword.$error.required && !newSurveyorForm.verifyPassword.$error.passwordMatch && hasSubmitted" class="help-block">Please verify your new password.</p>
              <p ng-show="newSurveyorForm.verifyPassword.$error.passwordMatch && hasSubmitted" class="help-block">The passwords you entered do not match!</p>
            </div> 
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" ng-click="submitCreateUser()" class="btn btn-primary">Save Changes</button>
      </div>
    </div>
  </div>
</div>
